(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[684],{285:(e,r,a)=>{"use strict";a.d(r,{$:()=>o});var t=a(5155),s=a(2115),l=a(4253),n=a(2085),i=a(9434);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,r)=>{let{className:a,variant:s,size:n,asChild:o=!1,...c}=e,u=o?l.DX:"button";return(0,t.jsx)(u,{className:(0,i.cn)(d({variant:s,size:n,className:a})),ref:r,...c})});o.displayName="Button"},1394:(e,r,a)=>{"use strict";a.d(r,{BK:()=>d,eu:()=>i,q5:()=>o});var t=a(5155),s=a(2115),l=a(5977),n=a(9434);let i=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)(l.bL,{ref:r,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...s})});i.displayName=l.bL.displayName;let d=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)(l._V,{ref:r,className:(0,n.cn)("aspect-square h-full w-full",a),...s})});d.displayName=l._V.displayName;let o=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)(l.H4,{ref:r,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...s})});o.displayName=l.H4.displayName},1721:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(157).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1920:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(157).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},2207:(e,r,a)=>{"use strict";a.d(r,{K:()=>l,p:()=>s});var t=a(5155);a(2115);let s=e=>{let{className:r}=e;return(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"4"}),(0,t.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"22"}),(0,t.jsx)("line",{x1:"10",y1:"20",x2:"14",y2:"20"}),(0,t.jsx)("line",{x1:"12",y1:"2",x2:"12",y2:"8"}),(0,t.jsx)("line",{x1:"14",y1:"4",x2:"10",y2:"4"})]})},l=e=>{let{className:r}=e;return(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"4"}),(0,t.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"22"}),(0,t.jsx)("line",{x1:"10",y1:"20",x2:"14",y2:"20"})]})}},5138:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>S});var t=a(5155),s=a(8999),l=a(8607),n=a(2115),i=a(6695),d=a(1394),o=a(157);let c=(0,o.A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var u=a(1721),x=a(1920),m=a(7082);let h=(0,o.A)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var f=a(286);let p=(0,o.A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),v=(0,o.A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),g=(0,o.A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),y=(0,o.A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),j=(0,o.A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var b=a(6874),N=a.n(b);let w=JSON.parse('{"o":[{"id":"avatar-placeholder","description":"A generic placeholder avatar","imageUrl":"https://picsum.photos/seed/avatar/200/200","imageHint":"person portrait"}]}').o;var k=a(6126),A=a(285),C=a(2207);let M=e=>{let{icon:r,label:a,value:s}=e;return s?(0,t.jsxs)("div",{className:"flex items-start gap-4 py-3",children:[(0,t.jsx)("div",{className:"text-muted-foreground",children:r}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:a}),(0,t.jsx)("p",{className:"font-medium",children:s})]})]}):null};function S(){let e=(0,s.useParams)(),{getMemberById:r,members:a}=(0,l.u)(),[o,b]=(0,n.useState)(null),[S,z]=(0,n.useState)(null),[R,H]=(0,n.useState)([]),L=w.find(e=>"avatar-placeholder"===e.id);return((0,n.useEffect)(()=>{if(e.id){let t=r(e.id);t&&(b(t),t.parentId?z(r(t.parentId)||null):z(null),H(a.filter(e=>e.parentId===t.id)))}},[e.id,r,a]),o)?(0,t.jsxs)("div",{className:"container mx-auto max-w-4xl p-4 sm:p-6 lg:p-8",children:[(0,t.jsx)(A.$,{asChild:!0,variant:"outline",className:"mb-6",children:(0,t.jsxs)(N(),{href:"/",children:[(0,t.jsx)(c,{className:"mr-2 h-4 w-4"})," Return to Tree"]})}),(0,t.jsxs)(i.Zp,{className:"overflow-hidden",children:[(0,t.jsx)(i.aR,{className:"bg-accent/50 p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsxs)(d.eu,{className:"h-24 w-24 border-4 border-card",children:[L&&(0,t.jsx)(d.BK,{src:L.imageUrl,"data-ai-hint":L.imageHint}),(0,t.jsx)(d.q5,{className:"text-3xl bg-secondary text-secondary-foreground",children:(e=>{let r=e.split(" ");return r.length>1?"".concat(r[0][0]).concat(r[r.length-1][0]).toUpperCase():e.substring(0,2).toUpperCase()})(o.name)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i.ZB,{className:"font-headline text-4xl",children:o.name}),o.occupation&&(0,t.jsx)(i.BT,{className:"text-lg",children:o.occupation})]})]})}),(0,t.jsxs)(i.Wu,{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("h3",{className:"font-headline text-xl border-b pb-2 mb-2 flex items-center gap-2",children:[(0,t.jsx)(u.A,{})," Personal Details"]}),(0,t.jsx)(M,{icon:(0,t.jsx)(x.A,{size:20}),label:"Date of Birth",value:o.dob?new Date(o.dob).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):void 0}),(0,t.jsx)(M,{icon:"Male"===o.gender?(0,t.jsx)(C.p,{}):(0,t.jsx)(C.K,{}),label:"Gender",value:o.gender}),(0,t.jsx)(M,{icon:(0,t.jsx)(m.A,{size:20}),label:"Occupation",value:o.occupation})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("h3",{className:"font-headline text-xl border-b pb-2 mb-2 flex items-center gap-2",children:[(0,t.jsx)(h,{})," Family Connections"]}),S&&(0,t.jsx)(M,{icon:(0,t.jsx)(f.A,{size:20}),label:"Parent",value:(0,t.jsx)(N(),{href:"/members/".concat(S.id),className:"text-primary hover:underline",children:S.name})}),o.relationType&&S&&(0,t.jsx)(M,{icon:(0,t.jsx)(p,{size:20}),label:"Relation to Parent",value:o.relationType}),R.length>0&&(0,t.jsx)(M,{icon:(0,t.jsx)(f.A,{size:20}),label:"Children",value:(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:R.map(e=>(0,t.jsx)(N(),{href:"/members/".concat(e.id),children:(0,t.jsx)(k.E,{variant:"secondary",className:"hover:bg-accent",children:e.name})},e.id))})})]}),(0,t.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,t.jsxs)("h3",{className:"font-headline text-xl border-b pb-2 mb-2 flex items-center gap-2",children:[(0,t.jsx)(v,{})," Contact & Notes"]}),(0,t.jsx)(M,{icon:(0,t.jsx)(v,{size:20}),label:"Email",value:o.email?(0,t.jsx)("a",{href:"mailto:".concat(o.email),className:"text-primary hover:underline",children:o.email}):void 0}),(0,t.jsx)(M,{icon:(0,t.jsx)(g,{size:20}),label:"Phone",value:o.phone}),(0,t.jsx)(M,{icon:(0,t.jsx)(y,{size:20}),label:"Address",value:o.address}),o.notes&&(0,t.jsx)(M,{icon:(0,t.jsx)(j,{size:20}),label:"Notes",value:(0,t.jsx)("p",{className:"whitespace-pre-wrap",children:o.notes})})]})]})]})]}):(0,t.jsxs)("div",{className:"container mx-auto p-8 text-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-headline",children:"Member not found"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"The requested family member could not be located."}),(0,t.jsx)(A.$,{asChild:!0,className:"mt-4",children:(0,t.jsx)(N(),{href:"/",children:"Back to Home"})})]})}},5457:(e,r,a)=>{Promise.resolve().then(a.bind(a,5138))},5977:(e,r,a)=>{"use strict";a.d(r,{H4:()=>b,_V:()=>j,bL:()=>y});var t=a(2115),s=a(6081),l=a(9033),n=a(2712),i=a(3540),d=a(5155),o="Avatar",[c,u]=(0,s.A)(o),[x,m]=c(o),h=t.forwardRef((e,r)=>{let{__scopeAvatar:a,...s}=e,[l,n]=t.useState("idle");return(0,d.jsx)(x,{scope:a,imageLoadingStatus:l,onImageLoadingStatusChange:n,children:(0,d.jsx)(i.sG.span,{...s,ref:r})})});h.displayName=o;var f="AvatarImage",p=t.forwardRef((e,r)=>{let{__scopeAvatar:a,src:s,onLoadingStatusChange:o=()=>{},...c}=e,u=m(f,a),x=function(e,r){let[a,s]=t.useState("idle");return(0,n.N)(()=>{if(!e)return void s("error");let a=!0,t=new window.Image,l=e=>()=>{a&&s(e)};return s("loading"),t.onload=l("loaded"),t.onerror=l("error"),t.src=e,r&&(t.referrerPolicy=r),()=>{a=!1}},[e,r]),a}(s,c.referrerPolicy),h=(0,l.c)(e=>{o(e),u.onImageLoadingStatusChange(e)});return(0,n.N)(()=>{"idle"!==x&&h(x)},[x,h]),"loaded"===x?(0,d.jsx)(i.sG.img,{...c,ref:r,src:s}):null});p.displayName=f;var v="AvatarFallback",g=t.forwardRef((e,r)=>{let{__scopeAvatar:a,delayMs:s,...l}=e,n=m(v,a),[o,c]=t.useState(void 0===s);return t.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(e)}},[s]),o&&"loaded"!==n.imageLoadingStatus?(0,d.jsx)(i.sG.span,{...l,ref:r}):null});g.displayName=v;var y=h,j=p,b=g},6126:(e,r,a)=>{"use strict";a.d(r,{E:()=>i});var t=a(5155);a(2115);var s=a(2085),l=a(9434);let n=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:r,variant:a,...s}=e;return(0,t.jsx)("div",{className:(0,l.cn)(n({variant:a}),r),...s})}},6695:(e,r,a)=>{"use strict";a.d(r,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>i});var t=a(5155),s=a(2115),l=a(9434);let n=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});n.displayName="Card";let i=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...s})});i.displayName="CardHeader";let d=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});d.displayName="CardTitle";let o=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent",s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"},7082:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(157).A)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},8607:(e,r,a)=>{"use strict";a.d(r,{u:()=>l});var t=a(2115),s=a(9949);let l=()=>{let e=(0,t.useContext)(s.s);if(void 0===e)throw Error("useFamily must be used within a FamilyProvider");return e}},9434:(e,r,a)=>{"use strict";a.d(r,{cn:()=>l});var t=a(2596),s=a(9688);function l(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,s.QP)((0,t.$)(r))}},9949:(e,r,a)=>{"use strict";a.d(r,{FamilyProvider:()=>i,s:()=>l});var t=a(5155),s=a(2115);let l=(0,s.createContext)(void 0),n=e=>{let r={},a=[];return e.forEach(e=>{r[e.id]={...e,children:[]}}),e.forEach(e=>{e.parentId&&r[e.parentId]?r[e.parentId].children.push(r[e.id]):a.push(r[e.id])}),a},i=e=>{let{children:r}=e,[a,i]=(0,s.useState)([]),[d,o]=(0,s.useState)([]);(0,s.useEffect)(()=>{try{let e=localStorage.getItem("familyMembers");if(e){let r=JSON.parse(e);i(r)}}catch(e){console.error("Failed to load family members from localStorage",e)}},[]),(0,s.useEffect)(()=>{try{localStorage.setItem("familyMembers",JSON.stringify(a)),o(n(a))}catch(e){console.error("Failed to save family members to localStorage",e)}},[a]);let c=(0,s.useCallback)(e=>{let r={...e,id:Date.now().toString()};i(e=>[...e,r])},[]),u=(0,s.useCallback)(e=>a.find(r=>r.id===e),[a]);return(0,t.jsx)(l.Provider,{value:{members:a,addMember:c,getMemberById:u,familyTree:d},children:r})}}},e=>{var r=r=>e(e.s=r);e.O(0,[436,441,303,358],()=>r(5457)),_N_E=e.O()}]);